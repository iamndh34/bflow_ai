var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(c,t,r){c instanceof String&&(c=String(c));for(var h=c.length,l=0;l<h;l++){var e=c[l];if(t.call(r,e,l,c))return{i:l,v:e}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,t,r){c!=Array.prototype&&c!=Object.prototype&&(c[t]=r.value)};$jscomp.getGlobal=function(c){c=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,c];for(var t=0;t<c.length;++t){var r=c[t];if(r&&r.Math==Math)return r}return globalThis};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(c,t,r,h){if(t){r=$jscomp.global;c=c.split(".");for(h=0;h<c.length-1;h++){var l=c[h];l in r||(r[l]={});r=r[l]}c=c[c.length-1];h=r[c];t=t(h);t!=h&&null!=t&&$jscomp.defineProperty(r,c,{configurable:!0,writable:!0,value:t})}};$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,r){return $jscomp.findInternal(this,c,r).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(c){var t=0;return function(){return t<c.length?{done:!1,value:c[t++]}:{done:!0}}};
$jscomp.arrayIterator=function(c){return{next:$jscomp.arrayIteratorImpl(c)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(c,t){this.$jscomp$symbol$id_=c;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:t})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
$jscomp.Symbol=function(){function c(r){if(this instanceof c)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(r||"")+"_"+t++,r)}var t=0;return c}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.asyncIterator;c||(c=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};
$jscomp.iteratorFromArray=function(c,t){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var r=0,h={next:function(){if(r<c.length){var l=r++;return{value:t(l,c[l]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6","es3");
$jscomp.polyfill("Array.prototype.values",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c,r){return r})}},"es8","es3");
(function(c){c.fn.gantt=function(t){var r=["hours","days","weeks","months"],h={source:null,itemsPerPage:7,months:"January February March April May June July August September October November December".split(" "),dow:"SMTWTFS".split(""),startPos:new Date,navigate:"buttons",scale:"days",useCookie:!1,maxScale:"months",minScale:"hours",waitText:"Please wait...",onItemClick:function(a){},onAddClick:function(a){},onRender:function(){},onReload:function(){},onClickParent:function(){},onChangePage:function(){},
resizeStartDate:function(){},resizeEndDate:function(){},onRowClick:function(){},scrollToToday:!0,isShowSetting:!0};c.extend(c.expr[":"],{findday:function(a,b,d){b=new Date(parseInt(d[3],10));a=(a=c(a).attr("id"))?a:"";d=a.indexOf("-")+1;a=new Date(parseInt(a.substring(d,a.length),10));b=new Date(b.getFullYear(),b.getMonth(),b.getDate());a=new Date(a.getFullYear(),a.getMonth(),a.getDate());return b.getTime()===a.getTime()}});c.extend(c.expr[":"],{findweek:function(a,b,d){b=new Date(parseInt(d[3],10));
a=(a=c(a).attr("id"))?a:"";d=a.indexOf("-")+1;b=b.getFullYear()+"-"+b.getDayForWeek().getWeekOfYear();a=a.substring(d,a.length);return b===a}});c.extend(c.expr[":"],{findmonth:function(a,b,d){b=new Date(parseInt(d[3],10));b=b.getFullYear()+"-"+b.getMonth();a=(a=c(a).attr("id"))?a:"";d=a.indexOf("-")+1;a=a.substring(d,a.length);return b===a}});Date.prototype.getWeekId=function(){var a=this.getFullYear(),b=this.getDayForWeek().getWeekOfYear();11===this.getMonth()&&1===b&&a++;return"dh-"+a+"-"+b};Date.prototype.genRepDate=
function(){switch(h.scale){case "hours":return this.getTime();case "weeks":return this.getDayForWeek().getTime();case "months":return(new Date(this.getFullYear(),this.getMonth(),1)).getTime();default:return this.getTime()}};Date.prototype.getDayOfYear=function(){var a=new Date(this.getFullYear(),0,0),b=new Date(this.getFullYear(),this.getMonth(),this.getDate());return Math.ceil((b-a)/864E5)};Date.prototype.getWeekOfYear=function(){var a=new Date(this.getFullYear(),0,1),b=new Date(this.getFullYear(),
this.getMonth(),this.getDate());3<a.getDay()&&(a=new Date(b.getFullYear(),0,7-a.getDay()));a=b.getDayOfYear()-a.getDayOfYear();return Math.ceil(a/7)};Date.prototype.getDaysInMonth=function(){return 32-(new Date(this.getFullYear(),this.getMonth(),32)).getDate()};Date.prototype.hasWeek=function(){var a=new Date(this.valueOf());a.setDate(a.getDate()-a.getDay());var b=new Date(this.valueOf());b.setDate(b.getDate()+(6-b.getDay()));return a.getMonth()===b.getMonth()?!0:a.getMonth()===this.getMonth()&&4>
b.getDate()||a.getMonth()!==this.getMonth()&&4<=b.getDate()};Date.prototype.getDayForWeek=function(){var a=new Date(this.valueOf());a.setDate(a.getDate()-a.getDay());var b=new Date(this.valueOf());b.setDate(b.getDate()+(6-b.getDay()));return a.getMonth()===b.getMonth()||a.getMonth()!==b.getMonth()&&4<=b.getDate()?new Date(b.setDate(b.getDate()-3)):new Date(a.setDate(a.getDate()+3))};var l={elementFromPoint:function(a,b){c.browser&&c.browser.msie?(a-=c(document).scrollLeft(),b-=c(document).scrollTop()):
(a-=window.pageXOffset,b-=window.pageYOffset);return document.elementFromPoint(a,b)},create:function(a){"string"!==typeof h.source?(a.data=h.source,l.init(a)):c.getJSON(h.source,function(b){a.data=b;l.init(a)})},init:function(a){a.rowsNum=a.data.length;a.pageCount=Math.ceil(a.rowsNum/h.itemsPerPage);a.rowsOnLastPage=a.rowsNum-Math.floor(a.rowsNum/h.itemsPerPage)*h.itemsPerPage;a.dateStart=e.getMinDate(a);a.dateEnd=e.getMaxDate(a);l.waitToggle(a,!0,function(){l.render(a)})},render_filter_columns:function(a){var b=
c('<div class="dropdown filtercolumn" data-toggle="tooltip" title="Column display"></div>'),d=c('<button class="btn btn-default dropdown-toggle material m-settings" data-toggle="dropdown"></button>');h.isShowSetting||(d=c('<button class="btn btn-default dropdown-toggle material m-settings" data-toggle="dropdown" style="display: none"></button>'));var k=c('<ul class="dropdown-menu"></ul>');h.columns.forEach(function(b){var g=c('<li class="dropdown-item-marker" role="menuitem"></li>'),f=c("<label></label>"),
d=c('<input class="checkbox_column" type="checkbox" data-field="'+b.value+'" value="'+b.value+'" '+(b.show?'checked="checked"':"")+">");d.click(function(){var b=this,f=c(this).attr("value");h.columns.forEach(function(a){a.value==f&&(a.show=c(b).is(":checked"))});c(".leftPanel").replaceWith(l.leftPanel(a))});f.append(d);f.append('<span style="padding-left: 5px">'+b.label+"</span>");g.append(f);k.append(g)});var e=c('<button type="button" style="display: none" id="gantt_reload"></button>');e.on("click",
function(b){var g=c(this).data("data");h.source=g?g.source:h.source;h.itemsPerPage=h.source.length;a.data=g?g.source:h.source;g.count&&(h.pageNum=1,b=g?g.count:0,g=g?g.page_size:1,h.pageCount=0==b%g?parseInt(b/g):(b-b%g)/g+1);l.init(a)});var p=c('<button type="button" style="display: none" id="scroll_now"></button>');p.on("click",function(){l.navigateTo(a,"now")});b.append(p);b.append(e);b.append(d);b.append(k);return c('<div class="col-sm-1"></div>').append(b)},render:function(a){var b=c('<div class="fn-content"/>'),
d=l.leftPanel(a);b.append(d);var k=l.rightPanel(a,d);b.append(k);b.append(l.navigation(a));var m=k.find(".dataPanel"),p=c('<div class="row" style="width: 100%;margin-bottom: 15px"></div>'),f=l.render_filter_columns(a),g=c('<div class="col-sm-5" style="text-align: right;padding-right: 0px"></div>'),n=c('<div class="gantt-note"></div>');(h.notes||[]).forEach(function(a,b){a=c('<div class="bar"><div class="fn-label">'+a.label+"</div></div>").addClass(a.color).css({width:3*e.getCellSize()+5,marginLeft:3*
e.getCellSize()*b+10*b});n.append(a)});g.append(n);var F=c('<div class="col-sm-6" style="text-align: right;padding-right: 0px"></div>').append(c('<button class="btn btn-default" data-toggle="tooltip" title="Previous perious"><span role="button" class="nav-link nav-prev-day"/></button>').html("&lt;").click(function(){"hours"===h.scale?l.navigateTo(a,4*e.getCellSize()):"days"===h.scale?l.navigateTo(a,7*e.getCellSize()):"weeks"===h.scale?l.navigateTo(a,4*e.getCellSize()):"months"===h.scale&&l.navigateTo(a,
3*e.getCellSize())})).append(c('<button class="btn btn-default" data-toggle="tooltip" title="Next perious"><span role="button" class="nav-link nav-next-day"/></button>').html("&gt;").click(function(){"hours"===h.scale?l.navigateTo(a,-4*e.getCellSize()):"days"===h.scale?l.navigateTo(a,-7*e.getCellSize()):"weeks"===h.scale?l.navigateTo(a,-4*e.getCellSize()):"months"===h.scale&&l.navigateTo(a,-3*e.getCellSize())}));h.isShowSetting?p.append(f).append(g).append(F):p.append(f).append(g);a.gantt=c('<div class="fn-gantt" />').append(p).append(b);
c(a).html(a.gantt);a.scrollNavigation.panelMargin=parseInt(m.css("margin-left").replace("px",""),10);a.scrollNavigation.panelMaxPos=m.width()-k.width();a.scrollNavigation.canScroll=m.width()>k.width();l.markNow(a);l.fillData(a,m,d);h.useCookie&&(b=c.cookie(this.cookieKey+"ScrollPos"))&&(a.hPosition=b);h.scrollToToday?0<Math.round((h.startPos/1E3-a.dateStart/1E3)/86400)-2&&0!==a.hPosition&&(a.scaleOldWidth?(k=m.width()-k.width(),k=k*a.hPosition/a.scaleOldWidth,k=0<k?0:k,m.css({"margin-left":k+"px"}),
a.scrollNavigation.panelMargin=k,a.hPosition=k,a.scaleOldWidth=null):(m.css({"margin-left":a.hPosition+"px"}),a.scrollNavigation.panelMargin=a.hPosition)):0!==a.hPosition&&(a.scaleOldWidth?(k=m.width()-k.width(),k=k*a.hPosition/a.scaleOldWidth,k=0<k?0:k,m.css({"margin-left":k+"px"}),a.scrollNavigation.panelMargin=k,a.hPosition=k,a.scaleOldWidth=null):(m.css({"margin-left":a.hPosition+"px"}),a.scrollNavigation.panelMargin=a.hPosition));l.repositionLabel(a);l.waitToggle(a,!1);h.onRender()},leftPanel:function(a){var b=
c('<div class="leftPanel" style="width:"/>').append(c('<div class="row spacer"></div>').css("height",e.getHeightCellSize()*(a.headerRows-1)+"px").css("width","100%"));"days"==h.scale&&b.css("margin-top",-7);var d=[];h.columns.filter(function(a){return a.show}).forEach(function(a){d.push('<div class="row name'+("name"==a.value?" header":"")+' column">');d.push('<span class="fn-label">'+a.label+"</span>");d.push("</div>");a.detail&&d.push('<div class="row desc column" style="width: 50px;"><span class="fn-label"></span></div>')});
b.append(d.join(""));var k=c('<div class="left-container"></div>'),m=h.columns.filter(function(a){return a.show}).length,p=h.columns.filter(function(a){return"name"==a.value&&a.show}).length;c.each(a.data,function(b,g){var d=null;a.data.find(function(a){return a.parent_id==g.id});if(b>=a.pageNum*h.itemsPerPage&&b<a.pageNum*h.itemsPerPage+h.itemsPerPage){d=c('<div class="row '+(h.final_level_bold>=g.tab_level&&!g.load_more?"name header":"desc header")+" level"+g.tab_level+" row"+b+(g.desc?"":" fn-wide")+
'" id="rowheader'+b+'" offset="'+b%h.itemsPerPage*e.getHeightCellSize()+'"" data-id="'+g.id+'"></div>');var f=h.columns.find(function(a){return"name"==a.value&&a.show&&a.tooltip});f=f?f.tooltip(g):g.name;var m=c('<span class="fn-label span_level'+g.tab_level+" "+(g.cssClass?" "+g.cssClass:"")+'" data-toggle="tooltip" title="'+f+'"></span>');f=10*(g.tab_level||0);g.no_child||g.load_more?m.append('<span style="margin-left: '+(f+16)+'px"></span>'):g.is_expand?(m.addClass("expanded"),m.append('<span style="margin-left: '+
f+'px" class="treegrid-expander treegrid-expander-expanded"></span>')):(m.addClass("collapsed"),m.append('<span style="margin-left: '+f+'px" class="treegrid-expander treegrid-expander-collapsed"></span>'));m.append(g.name);m.css({width:"150px"});g.load_more&&m.css({"font-style":"italic"});m.click(function(){h.onClickParent(g.load_more?g.load_more_id:g.id,g.tab_level||0,g.is_expand,g.load_more,m)});d.append(m);p&&(k.append(d),f=h.columns.find(function(a){return"name"==a.value&&a.show&&a.detail}))&&
(h.final_level_bold>=g.tab_level||g.load_more||!g.is_has_detail?k.append(0<b?'<div class="row desc" style="width: 50px;"></div>':'<div class="row desc row0" style="width: 50px;"></div>'):(f=c('<div class="row desc" style="width: 50px;" data-toggle="tooltip" title="View detail">'+f.detail+"</div>"),f.on("click",function(){h.onRowClick(g.id)}),k.append(f)));Object.keys(g.columns).forEach(function(a,f){if(h.columns.find(function(b){return b.value==a&&b.show})){d=c('<div class="row desc row'+b+' " id="RowdId_'+
b+'" data-id="'+g.id+'" level="'+g.tab_level+'"></div>');f=h.columns.find(function(b){return b.value==a&&b.tooltip});var e=g.columns[a];f&&(e=f.tooltip(g));d.append('<span data-toggle="tooltip" title="'+e+'" class="fn-label'+(g.cssClass?" "+g.cssClass:"")+'">'+g.columns[a]+"</span>");k.append(d);(f=h.columns.find(function(b){return b.value==a&&b.show&&b.detail}))&&!g.is_parent&&(f=c('<div class="row desc" style="width: 50px;" data-toggle="tooltip" title="View detail">'+f.detail+"</div>"),f.on("click",
function(){h.onRowClick(g.id)}),k.append(f))}})}});b.append(k);b.css("width",110*(m-p)+150*p+50*h.columns.filter(function(a){return a.show&&a.detail}).length+5);return b},dataPanel:function(a,b){b=c('<div class="dataPanel" style="width: '+(b+5)+'px;"/>');var d=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";document.attachEvent?a.attachEvent("on"+d,function(b){l.wheelScroll(a,b)}):document.addEventListener&&a.addEventListener(d,function(b){l.wheelScroll(a,b)},!1);b.click(function(b){b.stopPropagation();
var d=c(a).find(".fn-gantt .leftPanel"),k=c(a).find(".fn-gantt .dataPanel");switch(h.scale){case "weeks":var f=2*e.getCellSize();break;case "months":f=e.getCellSize();break;case "hours":f=4*e.getCellSize();break;case "days":f=3*e.getCellSize();break;default:f=2*e.getCellSize()}f=l.elementFromPoint(b.pageX,k.offset().top+f);f="fn-label"===f.className?c(f.parentNode):c(f);f=f.attr("repdate");b=l.elementFromPoint(d.offset().left+d.width()-10,b.pageY);b=0===b.className.indexOf("fn-label")?c(b.parentNode):
c(b);b=b.data().id;h.onAddClick(f,b)});return b},rightPanel:function(a,b){var d=null,k=" sn; wd; wd; wd; wd; wd; sa".split(";"),m=['<div class="row"/>'];b=0;var p=['<div class="row"/>'],f=0,g=[],n=0,r=[],t=[],C=new Date;C=new Date(C.getFullYear(),C.getMonth(),C.getDate());var B=h.holidays?h.holidays.join():"";switch(h.scale){case "hours":d=e.parseTimeRange(a.dateStart,a.dateEnd,a.scaleStep);for(var u=d[0].getFullYear(),x=d[0].getMonth(),y=d[0],v=0;v<d.length;v++){var q=d[v],z=q.getFullYear();z!==
u&&(m.push('<div class="row header year" style="width: '+e.getCellSize()*b+'px;"><div class="fn-label">'+u+"</div></div>"),u=z,b=0);b++;z=q.getMonth();z!==x&&(p.push('<div class="row header month" style="width: '+e.getCellSize()*f+'px"><div class="fn-label">'+h.months[x]+"</div></div>"),x=z,f=0);f++;var D=q.getDay();z=y.getDay();var A=k[D],G=y.getTime();-1<B.indexOf((new Date(q.getFullYear(),q.getMonth(),q.getDate())).getTime())&&(A="holiday");D!==z&&(D=0===C-y?" today":-1<B.indexOf(G)?"holiday":
k[z],g.push('<div class="row date '+D+'"  style="width: '+e.getCellSize()*n+'px;">  <div class="fn-label">'+y.getDate()+"</div></div>"),r.push('<div class="row day '+D+'"  style="width: '+e.getCellSize()*n+'px;">  <div class="fn-label">'+h.dow[z]+"</div></div>"),y=q,n=0);n++;t.push('<div class="row day '+A+'" id="dh-'+q.getTime()+'"  offset="'+v*e.getCellSize()+'"  repdate="'+q.genRepDate()+'"> '+q.getHours()+"</div>")}m.push('<div class="row header year" style="width: '+e.getCellSize()*b+'px;"><div class="fn-label">'+
u+"</div></div>");p.push('<div class="row header month" style="width: '+e.getCellSize()*f+'px"><div class="fn-label">'+h.months[x]+"</div></div>");A=k[y.getDay()];-1<B.indexOf((new Date(y.getFullYear(),y.getMonth(),y.getDate())).getTime())&&(A="holiday");g.push('<div class="row date '+A+'"  style="width: '+e.getCellSize()*n+'px;">  <div class="fn-label">'+y.getDate()+"</div></div>");r.push('<div class="row day '+A+'"  style="width: '+e.getCellSize()*n+'px;">  <div class="fn-label">'+h.dow[y.getDay()]+
"</div></div>");var w=l.dataPanel(a,d.length*e.getCellSize());w.append(m.join(""));w.append(p.join(""));w.append(c('<div class="row"/>').html(g.join("")));w.append(c('<div class="row"/>').html(r.join("")));w.append(c('<div class="row"/>').html(t.join("")));break;case "weeks":for(d=e.parseWeeksRange(a.dateStart,a.dateEnd);50>d.length&&0<d.length;)m=new Date(d[d.length-1]),m.setDate(m.getDate()+7),d.push(m);m=['<div class="row"/>'];p=['<div class="row"/>'];u=d[0].getFullYear();x=d[0].getMonth();y=d[0];
for(v=0;v<d.length;v++)q=d[v],q.getFullYear()!==u&&(m.push('<div class="row header year" style="width: '+e.getCellSize()*b+'px;"><div class="fn-label">'+u+"</div></div>"),u=q.getFullYear(),b=0),b++,q.getMonth()!==x&&(p.push('<div class="row header month" style="width:'+e.getCellSize()*f+'px;"><div class="fn-label">'+h.months[x]+"</div></div>"),x=q.getMonth(),f=0),f++,g.push('<div class="row day wd"  id="'+q.getWeekId()+'" offset="'+v*e.getCellSize()+'" repdate="'+q.genRepDate()+'">  <div class="fn-label">'+
q.getWeekOfYear()+"</div></div>");m.push('<div class="row header year" style="width: '+e.getCellSize()*b+'px;"><div class="fn-label">'+u+"</div></div>");p.push('<div class="row header month" style="width: '+e.getCellSize()*f+'px"><div class="fn-label">'+h.months[x]+"</div></div>");w=l.dataPanel(a,d.length*e.getCellSize());w.append(m.join("")+p.join("")+g.join("")+r.join(""));var E=c('<div class="data-container"></div>');a.data.forEach(function(a,b){b<h.itemsPerPage&&d.forEach(function(d){d=c('<div class="row cell" offset="'+
b*e.getCellSize()+'" repdate="'+d.getTime()+'"data-id="'+a.id+'">  <div class="fn-label"></div></div>');d.css("width",e.getCellSize()).css("height",e.getHeightCellSize());a.is_has_detail&&h.isAddDetail&&d.css({cursor:"cell"});E.append(d)})});w.append(E);break;case "months":for(d=e.parseMonthsRange(a.dateStart,a.dateEnd);50>d.length&&0<d.length;)f=new Date(d[d.length-1]),f.setMonth(f.getMonth()+1),d.push(f);u=d[0].getFullYear();x=d[0].getMonth();y=d[0];for(v=0;v<d.length;v++)q=d[v],q.getFullYear()!==
u&&(m.push('<div class="row header year" style="width: '+e.getCellSize()*b+'px;"><div class="fn-label">'+u+"</div></div>"),u=q.getFullYear(),b=0),b++,p.push('<div class="row day wd" id="dh-'+e.genId(q.getTime())+'" offset="'+v*e.getCellSize()+'" repdate="'+q.genRepDate()+'">'+(1+q.getMonth())+"</div>");m.push('<div class="row header year" style="width: '+e.getCellSize()*b+'px;"><div class="fn-label">'+u+"</div></div>");w=l.dataPanel(a,d.length*e.getCellSize());w.append(m.join(""));w.append(p.join(""));
a.data.forEach(function(a,b){b<h.itemsPerPage&&d.forEach(function(d){d=c('<div class="row cell" offset="'+b*e.getCellSize()+'" repdate="'+d.getTime()+'"data-id="'+a.id+'">  <div class="fn-label"></div></div>');d.css("width",e.getCellSize()).css("height",e.getHeightCellSize());a.is_has_detail&&h.isAddDetail&&d.css({cursor:"cell"});w.append(d)})});break;default:for(d=e.parseDateRange(a.dateStart,a.dateEnd);50>d.length&&0<d.length;)u=new Date(d[d.length-1]),u.setDate(u.getDate()+1),d.push(u);u=d[0].getFullYear();
x=d[0].getMonth();y=d[0];for(v=0;v<d.length;v++)q=d[v],t=n=!1,q.getTime()==a.dateStart.getTime()&&(n=!0),q.getTime()==a.dateEnd.getTime()&&(t=!0),q.getFullYear()!==u&&(m.push('<div class="row header year" style="width:'+e.getCellSize()*b+'px;"><div class="fn-label">'+u+"</div></div>"),u=q.getFullYear(),b=0),b++,q.getMonth()!==x&&(p.push('<div class="row header month" style="width:'+e.getCellSize()*f+'px;"><div class="fn-label">'+h.months[x]+"</div></div>"),x=q.getMonth(),f=0),f++,z=q.getDay(),A=k[z],
-1<B.indexOf((new Date(q.getFullYear(),q.getMonth(),q.getDate())).getTime())&&(A="holiday"),g.push('<div class="row date '+A+(n?" min-date":t?" max-date":"")+'"  id="dh-'+e.genId(q.getTime())+'" offset="'+v*e.getCellSize()+'" repdate="'+q.getTime()+'">  <div class="fn-label">'+q.getDate()+"</div></div>"),r.push('<div class="row day '+A+'"  id="dw-'+e.genId(q.getTime())+'"  repdate="'+q.genRepDate()+'">  <div class="fn-label">'+h.dow[z]+"</div></div>");m.push('<div class="row header year" style="width: '+
e.getCellSize()*b+'px;"><div class="fn-label">'+u+"</div></div>");p.push('<div class="row header month" style="width: '+e.getCellSize()*f+'px"><div class="fn-label">'+h.months[x]+"</div></div>");w=l.dataPanel(a,d.length*e.getCellSize());w.append(m.join(""));w.append(p.join(""));w.append(c('<div class="row"/>').html(g.join("")));w.append(c('<div class="row"/>').html(r.join("")));a.data.forEach(function(a,b){b<h.itemsPerPage&&d.forEach(function(d){d=c('<div class="row cell" offset="'+b*e.getCellSize()+
'" repdate="'+d.getTime()+'"data-id="'+a.id+'">  <div class="fn-label"></div></div>');d.css("width",e.getCellSize()).css("height",e.getHeightCellSize());0==b&&d.css("margin-top","5px");a.is_has_detail&&h.isAddDetail&&d.css({cursor:"cell"});w.append(d)})})}return c('<div class="rightPanel"></div>').append(w)},navigation:function(a){if("hide"==h.navigate)return c('<div class="bottom"/>');var b=null,d=c('<div class="gantt-note"></div>');(h.notes||[]).forEach(function(a,b){a=c('<div class="bar"><div class="fn-label">'+
a.label+"</div></div>").addClass(a.color).css({width:3*e.getCellSize()+5,marginTop:e.getHeightCellSize()*b});d.append(a)});"scroll"===h.navigate?(b=c('<div class="navigate" />').append(c('<div class="nav-slider" />').append(c('<div class="nav-slider-left" />').append(c('<div class="nav-slider-right" />').append(c('<span role="button" style="display: none" class="nav-link nav-zoomIn"/>').html("&#43;").click(function(){l.zoomInOut(a,-1)})).append(c('<span role="button" style="display: none" class="nav-link nav-zoomOut"/>').html("&#45;").click(function(){l.zoomInOut(a,
1)}))))),c(document).mouseup(function(){a.scrollNavigation.scrollerMouseDown=!1})):b=c('<div class="navigate" />').append(c('<span role="button" class="nav-link nav-page-back"/>').html("&lt;").click(function(){l.navigatePage(a,-1)})).append(c('<div class="page-number"/>').append(c("<span/>").html(a.pageNum+1+" of "+a.pageCount))).append(c('<span role="button" class="nav-link nav-page-next"/>').html("&gt;").click(function(){l.navigatePage(a,1)})).append(c('<span role="button" class="nav-link nav-begin"/>').html("&#124;&lt;").click(function(){l.navigateTo(a,
"begin")})).append(c('<span role="button" class="nav-link nav-prev-week"/>').html("&lt;&lt;").click(function(){l.navigateTo(a,7*e.getCellSize())})).append(c('<span role="button" class="nav-link nav-prev-day"/>').html("&lt;").click(function(){l.navigateTo(a,e.getCellSize())})).append(c('<span role="button" class="nav-link nav-next-day"/>').html("&gt;").click(function(){l.navigateTo(a,-1*e.getCellSize())})).append(c('<span role="button" class="nav-link nav-next-week"/>').html("&gt;&gt;").click(function(){l.navigateTo(a,
-7*e.getCellSize())})).append(c('<span role="button" class="nav-link nav-end"/>').html("&gt;&#124;").click(function(){l.navigateTo(a,"end")})).append(c('<span role="button" class="nav-link nav-zoomIn"/>').html("&#43;").click(function(){l.zoomInOut(a,-1)})).append(c('<span role="button" class="nav-link nav-zoomOut"/>').html("&#45;").click(function(){l.zoomInOut(a,1)}));return c('<div class="bottom"/>').append(b)},createProgressBar:function(a,b,d,k,m){var p=e.getCellSize(),f=e.getProgressBarMargin()||
0;a=c('<div class="bar bar-detail"><div class="fn-label hover">'+k+"</div></div>").addClass(b).css({width:p*a-f+5}).data("dataObj",m);a.find(".fn-label.hover").data("dataObj",m);d&&a.mouseover(function(a){var b=c('<div class="fn-gantt-hint" />').html(d);c("body").append(b);b.css("left",a.pageX);b.css("top",a.pageY);b.show()}).mouseout(function(){c(".fn-gantt-hint").remove()}).mousemove(function(a){c(".fn-gantt-hint").css("left",a.pageX);c(".fn-gantt-hint").css("top",a.pageY+15)});a.click(function(a){a.stopPropagation();
h.onItemClick(c(this).data("dataObj"))});m.color&&a.css("background-color",m.color);return a},createProgressBar2:function(a,b,d,k,m,p){b=e.getCellSize();var f=e.getProgressBarMargin()||0,g=c('<div class="bar2"><div class="resize-left"></div><div class="divide-left"></div><div class="fn-label hover">'+k+'</div><div class="divide-right"></div><div class="resize-right"></div></div>').css({display:"flex"}).data("dataObj",m);g.find(".fn-label.hover").data("dataObj",m);d&&g.mouseover(function(a){var b=
c('<div class="fn-gantt-hint" />').html(d);c("body").append(b);b.css("left",a.pageX);b.css("top",a.pageY);b.show()}).mouseout(function(){c(".fn-gantt-hint").remove()}).mousemove(function(a){c(".fn-gantt-hint").css("left",a.pageX);c(".fn-gantt-hint").css("top",a.pageY+15)});g.click(function(a){a.stopPropagation();h.onItemClick(c(this).data("dataObj"))});m.color&&g.find(".fn-label").css("background-color",m.color);g.find(".fn-label").css({width:b*a-f+5});g.find(".divide-left").css({width:5,cursor:"col-resize"});
g.find(".divide-left").mousedown(function(a){var b=a.clientX,c=g.find(".resize-left").width(),d=g.find(".fn-label").width();g.mousemove(function(a){a=a.clientX-b;g.find(".resize-left").css({width:c+a});g.find(".fn-label").css({width:d-a})});g.mouseup(function(a){var f=0>b-a.clientX?-1*(b-a.clientX):b-a.clientX,k=l.count_page(f,e.getCellSize());a=0>b-a.clientX?1:-1;g.find(".resize-left").css({width:c+k*a*e.getCellSize()});g.find(".fn-label").css({width:d-k*a*e.getCellSize()});h.resizeStartDate(f,e.getCellSize(),
a,p);g.off("mousemove");g.off("mouseup")})});g.find(".divide-right").css({width:5,cursor:"col-resize"});g.find(".divide-right").mousedown(function(a){var b=a.clientX,c=g.find(".fn-label").width();g.mousemove(function(a){a=a.clientX-b;g.find(".fn-label").css({width:c+a})});g.mouseup(function(a){var d=0>b-a.clientX?-1*(b-a.clientX):b-a.clientX,f=l.count_page(d,e.getCellSize());a=0>b-a.clientX?1:-1;g.find(".fn-label").css({width:c+f*a*e.getCellSize()});h.resizeEndDate(d,e.getCellSize(),a,p);g.off("mousemove");
g.off("mouseup")})});return g},count_page:function(a,b){return 0==a%b?parseInt(a/b):(a-a%b)/b+1},markNow:function(a){switch(h.scale){case "weeks":var b=Date.parse(new Date);b=364E5*Math.floor(b/364E5);c(a).find(':findweek("'+b+'")').removeClass("wd").addClass("today");break;case "months":c(a).find(':findmonth("'+(new Date).getTime()+'")').removeClass("wd").addClass("today");break;default:b=Date.parse(new Date),b=364E5*Math.floor(b/364E5),c(a).find(':findday("'+b+'")').removeClass("wd").addClass("today")}},
fillData:function(a,b,d){c.each(a.data,function(d,m){d>=a.pageNum*h.itemsPerPage&&d<a.pageNum*h.itemsPerPage+h.itemsPerPage&&c.each(m.values,function(k,f){if(!f.from||!f.to)return!0;switch(h.scale){case "hours":var g=e.genId(e.dateDeserialize(f.from).getTime(),a.scaleStep);k=c(a).find("#dh-"+g);var n=e.genId(e.dateDeserialize(f.to).getTime(),a.scaleStep);g=c(a).find("#dh-"+n);k=k.attr("offset");g=g.attr("offset");g=Math.floor((g-k)/e.getCellSize())+1;g=l.createProgressBar(g,f.customClass?f.customClass:
"",f.desc?f.desc:"",f.label?f.label:"",f.dataObj?f.dataObj:null);n=c(a).find("#rowheader"+d);(f=parseInt(n.attr("offset"),10))||(f=d*e.getHeightCellSize());n=5*e.getCellSize()+2+f;g.css({"margin-top":n,"margin-left":Math.floor(k)});b.append(g);break;case "weeks":k=e.dateDeserialize(f.from);g=e.dateDeserialize(f.to);3>=k.getDate()&&0===k.getMonth()&&k.setDate(k.getDate()+4);3>=k.getDate()&&0===k.getMonth()&&k.setDate(k.getDate()+4);3>=g.getDate()&&0===g.getMonth()&&g.setDate(g.getDate()+4);k=c(a).find("#"+
k.getWeekId());k=k.attr("offset");g=c(a).find("#"+g.getWeekId());g=g.attr("offset");g=Math.round((g-k)/e.getCellSize())+1;g=h.resizeable?l.createProgressBar2(g,f.customClass?f.customClass:"",f.desc?f.desc:"",f.label?f.label:"",f.dataObj?f.dataObj:null,m.id):l.createProgressBar(g,f.customClass?f.customClass:"",f.desc?f.desc:"",f.label?f.label:"",f.dataObj?f.dataObj:null);h.resizeable?(n=c(a).find("#rowheader"+d),(f=parseInt(n.attr("offset"),10))||(f=d*e.getHeightCellSize()),n=3*e.getHeightCellSize()+
5+f,g.css({"margin-top":n,width:b.width()}),g.find(".resize-left").css("width",Math.floor(k)+1-5)):(n=c(a).find("#rowheader"+d),(f=parseInt(n.attr("offset"),10))||(f=d*e.getHeightCellSize()),n=3*e.getHeightCellSize()+5+f,g.css({"margin-top":n,"margin-left":Math.floor(k)+1}));b.append(g);break;case "months":k=e.dateDeserialize(f.from);g=e.dateDeserialize(f.to);3>=k.getDate()&&0===k.getMonth()&&k.setDate(k.getDate()+4);3>=k.getDate()&&0===k.getMonth()&&k.setDate(k.getDate()+4);3>=g.getDate()&&0===g.getMonth()&&
g.setDate(g.getDate()+4);k=c(a).find("#dh-"+e.genId(k.getTime()));k=k.attr("offset");g=c(a).find("#dh-"+e.genId(g.getTime()));g=g.attr("offset");g=Math.round((g-k)/e.getCellSize())+1;g=h.resizeable?l.createProgressBar2(g,f.customClass?f.customClass:"",f.desc?f.desc:"",f.label?f.label:"",f.dataObj?f.dataObj:null,m.id):l.createProgressBar(g,f.customClass?f.customClass:"",f.desc?f.desc:"",f.label?f.label:"",f.dataObj?f.dataObj:null);h.resizeable?(n=c(a).find("#rowheader"+d),(f=parseInt(n.attr("offset"),
10))||(f=d*e.getHeightCellSize()),n=2*e.getHeightCellSize()+5+f,g.css({"margin-top":n,width:b.width()}),g.find(".resize-left").css("width",Math.floor(k)+1-5)):(n=c(a).find("#rowheader"+d),(f=parseInt(n.attr("offset"),10))||(f=d*e.getHeightCellSize()),n=2*e.getHeightCellSize()+5+f,g.css({"margin-top":n,"margin-left":Math.floor(k)+1}));b.append(g);break;default:g=e.genId(e.dateDeserialize(f.from).getTime()),n=e.genId(e.dateDeserialize(f.to).getTime()),k=c(a).find("#dh-"+g),k=k.attr("offset"),g=Math.floor((n/
1E3-g/1E3)/86400)+1,g=h.resizeable?l.createProgressBar2(g,f.customClass?f.customClass:"",f.desc?f.desc:"",f.label?f.label:"",f.dataObj?f.dataObj:null,m.id):l.createProgressBar(g,f.customClass?f.customClass:"",f.desc?f.desc:"",f.label?f.label:"",f.dataObj?f.dataObj:null),h.resizeable?(n=c(a).find("#rowheader"+d),(n=parseInt(n.attr("offset"),10))||(n=d*e.getHeightCellSize()),n=4*e.getHeightCellSize()+2+n+(f.line?18:0),g.css({"margin-top":n-3,width:b.width()}),g.find(".resize-left").css("width",Math.floor(k)+
1-5)):(n=c(a).find("#rowheader"+d),(n=parseInt(n.attr("offset"),10))||(n=d*e.getHeightCellSize()),n=4*e.getHeightCellSize()+2+n+(f.line?18:0),g.css({"margin-top":n-3,"margin-left":Math.floor(k)+1})),f.line&&g.css({height:2}),b.append(g)}if((k=g.find(".fn-label"))&&g.length){f=g[0].style.backgroundColor;try{f=f.replace("rgb(","").replace(")","");var p=f.split(","),r=parseInt(p[0],10),t=parseInt(p[1],10),B=parseInt(p[2],10),u=Math.round(.9*(255-(.299*r+.587*t+.114*B)),1);var x="rgb("+u+", "+u+", "+
u+")"}catch(y){x=""}k.css("color",x)}else k&&k.css("color","")})})},navigateTo:function(a,b){var d=c(a).find(".fn-gantt .rightPanel"),k=d.find(".dataPanel");k.click=function(){alert(arguments.join(""))};d=d.width();var h=k.width();switch(b){case "begin":k.animate({"margin-left":"0px"},"fast",function(){l.repositionLabel(a)});a.scrollNavigation.panelMargin=0;break;case "end":b=h-d;a.scrollNavigation.panelMargin=-1*b;k.animate({"margin-left":"-"+b+"px"},"fast",function(){l.repositionLabel(a)});break;
case "now":if(!a.scrollNavigation.canScroll||!k.find(".today").length)return!1;d=-1*(h-d);h=k.css("margin-left").replace("px","");b=k.find(".today").offset().left-k.offset().left;b*=-1;0<b?b=0:b<d&&(b=d);k.animate({"margin-left":b+"px"},"fast",l.repositionLabel(a));a.scrollNavigation.panelMargin=b;break;default:d=-1*(h-d),h=k.css("margin-left").replace("px",""),b=parseInt(h,10)+b,0>=b&&b>=d&&k.animate({"margin-left":b+"px"},"fast",l.repositionLabel(a)),a.scrollNavigation.panelMargin=b}},navigatePage:function(a,
b){if(h.onChangePage){var d=h.pageNum+b;if(h.pageCount>=d&&0<d){c(".page-number").find("span").html(d+" of "+h.pageCount);h.pageNum=d;h.onChangePage(h.pageNum);return}}0<=a.pageNum+b&&a.pageNum+b<Math.ceil(a.rowsNum/h.itemsPerPage)&&l.waitToggle(a,!0,function(){a.pageNum+=b;a.hPosition=c(".fn-gantt .dataPanel").css("margin-left").replace("px","");a.scaleOldWidth=!1;l.init(a)})},zoomInOut:function(a,b){l.waitToggle(a,!0,function(){var d=0>b,k=a.scaleStep+3*b;k=1>=k?1:4===k?3:k;var e=h.scale,p=a.headerRows;
"hours"===h.scale&&13<=k?(e="days",p=4,k=13):"days"===h.scale&&d?(e="hours",p=5,k=12):"days"!==h.scale||d?"weeks"!==h.scale||d?"weeks"===h.scale&&d?(e="days",p=4,k=13):"months"===h.scale&&d&&(e="weeks",p=3,k=13):(e="months",p=2,k=14):(e="weeks",p=3,k=13);d&&c.inArray(e,r)<c.inArray(h.minScale,r)||!d&&c.inArray(e,r)>c.inArray(h.maxScale,r)||(a.scaleStep=k,h.scale=e,a.headerRows=p,d=c(a).find(".fn-gantt .rightPanel"),k=d.find(".dataPanel"),a.hPosition=k.css("margin-left").replace("px",""),a.scaleOldWidth=
k.width()-d.width(),h.useCookie&&(c.cookie(this.cookieKey+"CurrentScale",h.scale),c.cookie(this.cookieKey+"ScrollPos",null)));l.init(a)})},mouseScroll:function(a,b){var d=c(a).find(".fn-gantt .dataPanel");d.css("cursor","move");d.offset();d=b.pageX-(null===a.scrollNavigation.mouseX?b.pageX:a.scrollNavigation.mouseX);a.scrollNavigation.mouseX=b.pageX;l.scrollPanel(a,d);clearTimeout(a.scrollNavigation.repositionDelay);a.scrollNavigation.repositionDelay=setTimeout(l.repositionLabel,50,a)},wheelScroll:function(a,
b){l.scrollPanel(a,b.detail?-50*b.detail:b.wheelDelta/120*50);clearTimeout(a.scrollNavigation.repositionDelay);a.scrollNavigation.repositionDelay=setTimeout(l.repositionLabel,50,a);if(b.preventDefault)b.preventDefault();else return!1},sliderScroll:function(a,b){var d=c(a).find(".nav-slider-bar"),k=d.find(".nav-slider-button"),e=c(a).find(".fn-gantt .rightPanel"),h=e.find(".dataPanel"),f=d.offset();d=d.width();var g=k.width();b.pageX>=f.left&&b.pageX<=f.left+d&&(b=b.pageX-f.left,b-=g/2,k.css("left",
b),k=h.width()-e.width(),e=b*k/d*-1,0<=e?(h.css("margin-left","0px"),a.scrollNavigation.panelMargin=0):b>=d-1*g?(h.css("margin-left",-1*k+"px"),a.scrollNavigation.panelMargin=-1*k):(h.css("margin-left",e+"px"),a.scrollNavigation.panelMargin=e),clearTimeout(a.scrollNavigation.repositionDelay),a.scrollNavigation.repositionDelay=setTimeout(l.repositionLabel,5,a))},scrollPanel:function(a,b){if(!a.scrollNavigation.canScroll)return!1;b=parseInt(a.scrollNavigation.panelMargin,10)+b;a.scrollNavigation.panelMargin=
0<b?0:b<-1*a.scrollNavigation.panelMaxPos?-1*a.scrollNavigation.panelMaxPos:b;c(a).find(".fn-gantt .dataPanel").css("margin-left",a.scrollNavigation.panelMargin+"px");l.synchronizeScroller(a)},synchronizeScroller:function(a){if("scroll"===h.navigate){var b=c(a).find(".fn-gantt .rightPanel"),d=b.find(".dataPanel"),e=c(a).find(".nav-slider-bar");a=e.find(".nav-slider-button");e=e.width();var l=a.width();b=d.width()-b.width();var p=0;d.css("margin-left")&&(p=d.css("margin-left").replace("px",""));d=
p*e/b-.25*a.width();a.css("left",-1*(0<d?0:-1*d>=e-.75*l?-1*(e-1.25*l):d))}},repositionLabel:function(a){setTimeout(function(){var b=a?c(a).find(".fn-gantt .rightPanel").find(".dataPanel"):c(".fn-gantt .rightPanel .dataPanel");h.useCookie&&c.cookie(this.cookieKey+"ScrollPos",b.css("margin-left").replace("px",""))},500)},waitToggle:function(a,b,c){b&&setTimeout(c,50)}},e={getMaxDate:function(a){var b=null;c.each(a.data,function(a,d){c.each(d.values,function(a,c){c.to&&(b=b<e.dateDeserialize(c.to)?
e.dateDeserialize(c.to):b)})});b||(b=new Date);switch(h.scale){case "hours":b.setHours(Math.ceil(b.getHours()/a.scaleStep)*a.scaleStep);b.setHours(b.getHours()+3*a.scaleStep);break;case "weeks":a=new Date(b.getTime());a=new Date(a.setDate(a.getDate()+21));var d=7*Math.floor(a.getDate()/7);b=new Date(a.getFullYear(),a.getMonth(),0===d?4:d-3);break;case "months":a=new Date(b.getFullYear(),b.getMonth(),1);a.setMonth(a.getMonth()+3);b=new Date(a.getFullYear(),a.getMonth(),1);break;default:b.setHours(0),
b.setDate(b.getDate()+(h.extraEndDate||3))}return b},getMinDate:function(a){var b=null;c.each(a.data,function(a,d){c.each(d.values,function(a,c){c.from&&(b=b>e.dateDeserialize(c.from)||null===b?e.dateDeserialize(c.from):b)})});b||(b=new Date);switch(h.scale){case "hours":b.setHours(Math.floor(b.getHours()/a.scaleStep)*a.scaleStep);b.setHours(b.getHours()-3*a.scaleStep);break;case "weeks":a=new Date(b.getTime());a=new Date(a.setDate(a.getDate()-21));var d=7*Math.floor(a.getDate()/7);b=new Date(a.getFullYear(),
a.getMonth(),(0===d?4:d)-3);break;case "months":a=new Date(b.getFullYear(),b.getMonth(),1);a.setMonth(a.getMonth()-3);b=new Date(a.getFullYear(),a.getMonth(),1);break;default:b.setHours(0),b.setDate(b.getDate()-3)}return b},parseDateRange:function(a,b){a=new Date(a.getTime());b.getTime();var c=[],e=0;do c[e++]=new Date(a.getTime()),a.setDate(a.getDate()+1);while(a.getTime()<=b.getTime());return c},parseTimeRange:function(a,b,c){a=new Date(a);var d=[],e=0;do d[e]=new Date(a.getTime()),a.setHours(a.getHours()+
c),a.setHours(Math.floor(a.getHours()/c)*c),a.getDay()!==d[e].getDay()&&a.setHours(0),e++;while(a.getTime()<=b.getTime());return d},parseWeeksRange:function(a,b){a=new Date(a);var c=[],e=0;do 0===a.getDay()&&(c[e++]=a.getDayForWeek()),a.setDate(a.getDate()+1);while(a.getTime()<=b.getTime());return c},parseMonthsRange:function(a,b){a=new Date(a);var c=[],e=0;do c[e++]=new Date(a.getFullYear(),a.getMonth(),1),a.setMonth(a.getMonth()+1);while(a.getTime()<=b.getTime());return c},dateDeserialize:function(a){a=
eval("new"+a.replace(/\//g," "));return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes())},genId:function(a){var b=new Date(a);switch(h.scale){case "hours":var c=b.getHours();2<=arguments.length&&(c=Math.floor(b.getHours()/arguments[1])*arguments[1]);return(new Date(b.getFullYear(),b.getMonth(),b.getDate(),c)).getTime();case "weeks":c=b.getFullYear();var e=b.getDayForWeek().getWeekOfYear();11===b.getMonth()&&1===e&&c++;return c+"-"+e;case "months":return b.getFullYear()+
"-"+b.getMonth();default:return(new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()}},_getCellSize:null,getCellSize:function(){e._getCellSize||(c("body").append(c('<div style="display: none; position: absolute;" class="fn-gantt" id="measureCellWidth"><div class="fn-gantt-width"></div></div>')),e._getCellSize=c("#measureCellWidth .fn-gantt-width").height(),c("#measureCellWidth").empty().remove());return e._getCellSize},_getHeightCellSize:null,getHeightCellSize:function(){e._getHeightCellSize||
(c("body").append(c('<div style="display: none; position: absolute;" class="fn-gantt" id="measureCellWidth"><div class="fn-gantt-height"></div></div>')),e._getHeightCellSize=c("#measureCellWidth .fn-gantt-height").height(),c("#measureCellWidth").empty().remove());return e._getHeightCellSize},getRightPanelSize:function(){c("body").append(c('<div style="display: none; position: absolute;" class="fn-gantt" id="measureCellWidth"><div class="rightPanel"></div></div>'));var a=c("#measureCellWidth .rightPanel").height();
c("#measureCellWidth").empty().remove();return a},getPageHeight:function(a){return a.pageNum+1===a.pageCount?a.rowsOnLastPage*e.getCellSize():h.itemsPerPage*e.getCellSize()},_getProgressBarMargin:null,getProgressBarMargin:function(){e._getProgressBarMargin||(c("body").append(c('<div style="display: none; position: absolute;" id="measureBarWidth" ><div class="fn-gantt"><div class="rightPanel"><div class="dataPanel"><div class="row day"><div class="bar" /></div></div></div></div></div>')),e._getProgressBarMargin=
parseInt(c("#measureBarWidth .fn-gantt .rightPanel .day .bar").css("margin-left").replace("px",""),10),e._getProgressBarMargin+=parseInt(c("#measureBarWidth .fn-gantt .rightPanel .day .bar").css("margin-right").replace("px",""),10),c("#measureBarWidth").empty().remove());return e._getProgressBarMargin}};this.each(function(){t&&c.extend(h,t);this.data=null;this.hPosition=this.rowsNum=this.rowsOnLastPage=this.pageCount=this.pageNum=0;this.dateEnd=this.dateStart=null;this.scrollClicked=!1;this.headerRows=
this.scaleOldWidth=null;h.useCookie&&(c.cookie(this.cookieKey+"CurrentScale")?h.scale=c.cookie(this.cookieKey+"CurrentScale"):c.cookie(this.cookieKey+"CurrentScale",h.scale));switch(h.scale){case "hours":this.headerRows=5;this.scaleStep=1;break;case "weeks":this.headerRows=3;this.scaleStep=13;break;case "months":this.headerRows=2;this.scaleStep=14;break;default:this.headerRows=4,this.scaleStep=13}this.scrollNavigation={panelMouseDown:!1,scrollerMouseDown:!1,mouseX:null,panelMargin:0,repositionDelay:0,
panelMaxPos:0,canScroll:!0};this.loader=this.gantt=null;l.create(this)})}})(jQuery);
